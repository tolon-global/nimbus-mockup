
<ion-view title="Tolon Makina" style="width: 100%; height: 100%">
  <ion-header-bar class="bar-subheader bar-dark" >
    <button class="btn-negative"> Click Me</button>
    <button class="btn-positive"> Click Me</button>
  </ion-header-bar>
  <ion-content ng-controller="cll" scroll="false">
    <div class="container" on-swipe-left="onSwipeLeft()" on-swipe-right="onSwipeRight()" on-swipe-up="onSwipeUp()" on-swipe-down="onSwipeDown()">
      <div class="buddy"  style="display: block">
        <h3 class="stage__title">{{chats[next_page].title}}</h3>
        <div class="list-container1">
          <div ng-if="detail" class="item-text-wrap">

          </div>
          <ion-scroll>
          <ion-list style="min-height:5%; max-height: 5%;height: 250px;">
            <div ng-if="detail" class="item-text-wrap">
              <ion-item ng-repeat="data1 in chats[next_page].content">
                <b>{{chats[next_page].detail[data1.id-1].id}}.</b> {{chats[next_page].detail[data1.id-1].text}}
              </ion-item>
            </div>
            <div ng-if="!detail">
              <ion-item ng-repeat="text1 in chats[next_page].detail">
                <b>{{ text1.id }}.</b> {{ text1.text }}
              </ion-item>
            </div>

          </ion-list>
            </ion-scroll>
        </div>
      </div>
      <div class="buddy rot"  style="display: block">
        <h3 class="stage__title">{{chats[next_page].title}}</h3>
        <div class="list-container1">
            <div ng-if="detail" class="item-text-wrap">
              <video src="https://fog.bilims.com/beta/video/ht_0024.mp4" id="myvideo" style=" max-height: 170px; " controls>
              </video>
              <script type="application/javascript">
                var imported = document.createElement('script');
                imported.src = '/js/app.js';
                document.head.appendChild(imported);
                console.log(next_page);

                var myvid = document.getElementById('myvideo');
                var myvids = [];

                for(var i=0;i<datas.flowchart.element_list[next_page].content.length;i++){
                  myvids.push(datas.flowchart.element_list[next_page].content[i])
                }
                console.log(myvids)
                var activeVideo = 0;
                myvid.addEventListener('ended', function(e) {
                  activeVideo = (++activeVideo) % myvids.length;
                  myvid.src= myvids[activeVideo];
                  myvid.play();
                });
              </script>
            </div>
          <ion-scroll  style="min-height:25%; max-height: 25%; height: 250px; position: inherit ;">
          <ion-list   style="min-height:25%; max-height: 25%">
            <div ng-if="detail" class="item-text-wrap">
              <ion-item ng-repeat="data1 in chats[next_page].content">
                <b>{{chats[next_page].detail[data1.id-1].id}}.</b> {{chats[next_page].detail[data1.id-1].text}}
              </ion-item>
            </div>
            <div ng-if="!detail">
              <ion-item ng-repeat="text1 in chats[next_page].detail">
                <b>{{ text1.id }}.</b> {{ text1.text }}
              </ion-item>
            </div>

          </ion-list>
          </ion-scroll>
        </div>
      </div>
    </div>
  </ion-content>
</ion-view>


